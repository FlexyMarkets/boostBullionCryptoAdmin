import{j as e,J as D,E as B,M as L,r as n,a7 as E,I,K as x,S as l,Y as m,V as P}from"./index-DJkOrddM.js";import{c as Y,E as R,u as U,L as _,D as f,M as G,F as H,a as h,w as W}from"./xlsx-Buwt_MlR.js";import{S as K}from"./Selector-DvL7NQ9h.js";import{d as b,A as N}from"./AdapterDayjs-BpTkHU8-.js";import{T as j}from"./TextField-B_T7QZCB.js";import"./Close-ChGvmQUK.js";import"./ExpandMore-BDq_mFfM.js";import"./MenuItem-C6Me-RSo.js";import"./Tooltip-BXI4G3BD.js";import"./Radio-BnGDMS9i.js";import"./Select-BO3C6JoM.js";import"./Divider-BTZhOkRD.js";const s=Y(),J=[s.accessor("loginId",{header:"Login Id",size:120}),s.accessor("name",{header:"Name",size:150}),s.accessor("email",{header:"Email",size:150}),s.accessor("mobile",{header:"Mobile",size:150}),s.accessor("BUSDBalance",{header:"Main balance"}),s.accessor("totalStakedBalance",{header:"Total staked balance"}),s.accessor("TRADEBalance",{header:"Trade balance"}),s.accessor("AFFLIATEBalance",{header:"Affliate balance"}),s.accessor("PACKAGEBalance",{header:"Package balance"}),s.accessor("createdAt",{header:"Registration Date",size:250,Cell:({row:o})=>e.jsx(D,{children:new Date(o.original.createdAt).toLocaleString()})}),s.display({header:"Action",size:50,Cell:({row:o})=>{const i=B();return e.jsx(L,{onClick:()=>i(`/dashboard/userManagement/editUser/${o.original._id}`),children:e.jsx(R,{})})}})],Q=o=>{const i=h.json_to_sheet(o),c=h.book_new();h.book_append_sheet(c,i,"Sheet1"),W(c,"transactionList.xlsx")};function ne(){var u,g;const[o,i]=n.useState({pageIndex:0,pageSize:10}),[c,S]=n.useState(""),[t,T]=n.useState({greaterThan:"",lessThan:"",type:"",fromDate:null,toDate:null}),C=t.fromDate?b(t.fromDate).format("YYYY-MM-DD"):void 0,w=t.toDate?b(t.toDate).format("YYYY-MM-DD"):void 0,{data:r,isLoading:y,isError:z}=E({page:o.pageIndex+1,sizePerPage:o.pageSize,search:c,...t,startDate:C,endDate:w}),p=((u=r==null?void 0:r.data)==null?void 0:u.docs)||[],v=n.useMemo(()=>J,[]),A=n.useMemo(()=>p,[p]),d=n.useCallback((a,M)=>{T(k=>({...k,[a]:M}))},[]),F=U({columns:v,data:A,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((g=r==null?void 0:r.data)==null?void 0:g.totalDocs)||0,state:{pagination:o,isLoading:y,showAlertBanner:z,search:c},onPaginationChange:i,onGlobalFilterChange:S,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>e.jsx(x,{sx:{display:"flex",gap:2,padding:1,flexWrap:"wrap"},children:e.jsx(P,{variant:"contained",onClick:()=>Q(transactionsListData),startIcon:e.jsx(H,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none",bgcolor:"primary.main","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(I,{sx:{mt:"100px"},children:[e.jsx(D,{variant:"h5",fontWeight:700,fontSize:"1.8rem",mb:4,children:"User list"}),e.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:[e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Greater than"}),e.jsx(j,{type:"number",size:"small",value:t.greaterThan,onChange:a=>d("greaterThan",a.target.value)})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Less than"}),e.jsx(j,{type:"number",size:"small",value:t.lessThan,onChange:a=>d("lessThan",a.target.value)})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Type"}),e.jsx(K,{items:["BUSDBalance","totalStakedBalance"],value:t.type,onChange:a=>d("type",a.target.value),width:{xs:"100%",sm:200}})]})]}),e.jsx(_,{dateAdapter:N,children:e.jsxs(x,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(f,{value:t.fromDate,onChange:a=>d("fromDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(f,{value:t.toDate,onChange:a=>d("toDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(l,{sx:{mt:4,borderRadius:2,overflow:"hidden"},children:e.jsx(G,{table:F})})]})}export{ne as default};
