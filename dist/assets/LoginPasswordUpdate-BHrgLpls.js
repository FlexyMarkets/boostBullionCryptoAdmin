import{a2 as I,r as u,C as P,W as z,aD as U,j as s,S as v,J as i,aB as T,Y as x,ao as C,aE as L,M as E,aF as F,aG as V,V as W,Z as k,_ as h,$ as B,a0 as w}from"./index-DJkOrddM.js";import{G as n}from"./Grid2-DMXzHL4Q.js";import{T as D}from"./TextField-B_T7QZCB.js";import"./MenuItem-C6Me-RSo.js";import"./Select-BO3C6JoM.js";const G=B({userId:w().trim().min(1,"Please type your id"),password:w().trim().min(1,"Please type your transaction password")});function R(){const{id:a}=I(),[t,f]=u.useState(!1),g=()=>f(o=>!o),d=P(),l={userId:a||"",password:""},{register:m,handleSubmit:b,reset:c,formState:{errors:r}}=z({resolver:k(G),defaultValues:l});u.useEffect(()=>{c({userId:a&&a})},[a]);const[j,{isLoading:y}]=U(),S=async o=>{var p;try{const e=await j(o).unwrap();e.status&&(d(h({open:!0,message:e==null?void 0:e.message,severity:"success"})),c(l))}catch(e){e!=null&&e.data&&d(h({open:!0,message:((p=e==null?void 0:e.data)==null?void 0:p.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(v,{mt:"2rem",children:[s.jsx(i,{variant:"h5",fontWeight:"bold",mb:"2rem",children:"Change logIn password"}),s.jsxs(T,{component:"form",sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"1rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},onSubmit:b(S),children:[s.jsxs(n,{container:!0,size:12,spacing:2,children:[s.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[s.jsx(x,{sx:{mb:".5rem"},children:"User ID"}),s.jsx(D,{disabled:!0,...m("userId",{required:!0}),size:"small",fullWidth:!0}),r.userId&&s.jsx(i,{color:"error",children:r.userId.message})]}),s.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[s.jsx(x,{sx:{mb:".5rem"},children:"New password"}),s.jsx(C,{...m("password",{required:!0}),size:"small",placeholder:"********",fullWidth:!0,type:t?"text":"password",endAdornment:s.jsx(L,{position:"end",children:s.jsx(E,{"aria-label":t?"hide the password":"display the password",onClick:g,edge:"end",children:t?s.jsx(F,{sx:{color:"#8703ef",fontSize:"20px"}}):s.jsx(V,{sx:{color:"#8703ef",fontSize:"20px"}})})})}),r.password&&s.jsx(i,{color:"error",children:r.password.message})]})]}),s.jsx(W,{type:"submit",size:"small",disabled:y,variant:"contained",sx:{mt:"1.5em",textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})]})}export{R as default};
